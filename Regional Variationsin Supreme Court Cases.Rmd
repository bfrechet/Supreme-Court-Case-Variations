---
title: "Regional Variations in Supreme Court Cases"
author: "Brittany Frechette and Victoria Worley"
  output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
set.seed(100)
setwd("/Users/victoriaworley/Desktop")

library(stargazer)
library(ggplot2) 
library(ggthemes)
library(arm)
library(sjPlot)
library(sjmisc)
library(interplot)
library(stargazer)
library(lmtest)
library(dlnm)
library(foreign)
library(orcutt)
library(stargazer)
library(foreign)
library(plm)
library(lmtest)
library(pcse)
library(tinytex)
library(xtable)
library(utf8)
library(ggrepel)
library(bibtex)
library(knitr)
library(tidyverse)
library(gtrendsR)
library(censusapi)
library(dplyr)
library(readxl)
library(lmtest)
library(plm)
library(stargazer)
library(pROC)
library(dplyr)
library(forcats)
library(curl)
library(usmap)
library(gtrendsR)
library(haven)
devtools::install_github("PMassicotte/gtrendsR")

data <- read.csv("/Users/victoriaworley/Desktop/typ_data_subset.csv", header=T, sep=",", encoding = "UTF-8")
```

## Introduction

States have long been a revered part of the American political system for mimicking the cultures of their respective populations.  Scholars have long touted the idea of regional political cultures that fuel these areas’ ideological preferences and institutional arrangements.  While the relevance of political cultures has been questioned as the communication across state lines and interstate migration has increased, there are still notable differences between the states.  If the states’ politics, as defined by the political elite in office and the institutional arrangements of the states, are clustered by region, it should follow that the public’s interests should be regionally clustered, too.  These differences, however, are usually analyzed in the context of a legislator diverting their interests towards legislation that will affect their district; representatives will barter for money or projects that will be funneled into their districts based on their districts needs.  This is local interest going to a local location.  What has yet to be analyzed, though, is how the public’s interest varies by region when an issue affects the whole country.  Supreme Court decisions are impactful legal decisions that affect the political decisions of the country at large.  Pockets of interest often involve themselves in the litigation process, highlighting the divisive and important nature of these decisions.  It should follow those states and their citizens would tailor their interests to certain cases more than others.  If a case originates from a particular state, or the legal question involves a regional interest, particular regions should pay more attention to certain cases than others.

Regional variations in attention to court cases is of immense importance to the judicial process.  If certain states or regions find particular legal questions more salient than others, its likely those citizens and organized interests in those regions will devote more resources towards the political process.  Unlike a legislator trying to get a roadway project in their district, federal court cases have tangible effects across regions, whether or not the region is invested in the decision or not.  While certain judicial cases are nationally salient, like abortion or gun litigation, these regional interests are likely to substantively impact the decisions of federal courts.  Individual interest leads to individual action.  Furthermore, legislators, responsive to constituent interests, are more likely to make a marked stance against a case when they feel that their constituents have strong preferences one way or another.  Legislative threat of Court-curbing is a well-regarded influencer of the judicial process as well.  So, regional interest in different legal questions of immense importance to the court’s decision-making process.

!!SUMMARIZE PAPER GOALS!!

##Google Trends Scores as a Measure of Public Interest and Attention

Google is an enigmatic feature of American politics.  While scholarly literature has touted Americans as inattentive and uninterested in the political process, this is not consistent across all regions or persons (CITATIONS).  Google's emergence as a key source of information highlights the modern ease of seeking out political information.  The differences between internet and non-internet users are virtually indistinguishable (Mellon 2013). This is an important consideration to make, as it indicates that this data is representative of the population at large. This is an improvement over using print media as a gauge for salience; instead of using media elite publishing stories as a proxy for citizenry’s attentiveness to an issue, internet search data captures the general public’s relative interest and its temporal shifts on a topic.  Google searches allow the public to gain access to information that was not once nearly as accessible when scholars first touted the notions of an unengaged public.  People use Google to gain information about events, including court cases and laws with which they not be already familiar. Therefore, Google’s accessibility and salience in the American public makes Google a critical feature of American politics. 

Google Trends (GT) is a free and publicly accessible database that provides a clear and concise measure of present-level data. The measure is based on a total query search time series index (Choi and Varian 2012). The total query search term can them be calculated across geographic region, time range, category of query, and the type of Google search method (i.e. Google Search, Image Search, Shopping, etc.). One fall back of the GT data is that it is not provided in total observed search volume, but rather in a relative scale across all queries and time. However, this still allows for the temporal and regional variances in search terms to be ascertained, allowing for issue salience to be gauged.

Choi and Varian (2012) posit that search engine data can “predict the present” (2). Their study on forecasting near-term values of economic indicators finds that GT data can provide a useful and contemporaneous measure of query relevance. Mellon (2013) conducts a comparison of search data and a common salience measurement, Gallup’s “most important problem” question, to determine the validity of search data when measuring issue salience. Ultimately, he finds strong correlations between search data and existing salience measures on certain issues and less significant correlations on others, but contends that internet search data can provide a wider picture of agenda setting. This signals the potential of GT data to indicate issue salience. Furthermore, Chykina and Crabtree (2018) visualize the congruence of search data and political events, giving credence to search data’s ability to account for temporal changes in the public’s attentiveness towards an issue.

##Data and Methods

*Data*

The data from this paper will come from two main sources: Google Trend scores and the Supreme Court DataBase (SCDB) (Spaeth et al. 2021).  Scores will be gathered from 10/01/2010 to 07/15/2020.  Cases will be limited to those heard from the 2010-2019 terms .  States will be divided into regional categories, as defined by the U.S. Census Bureau, with Washington D.C. serving as a baseline for comparison.  The variable of interest in this project is the Google Trends score at the state and regional levels.  

*Models*

To best research the regional variances in attention to legal issues in front of the Supreme Court, this paper will have three parts.  The first part will examine whether there are regional differences in search scores on the Supreme Court generally.  This is necessary to establish that attention to and interest in the Court is not consistent across the United States.  So, by establishing this, a discussion for why attention may vary and how it is different across interest areas can be explored. 

The second portion will be centered on searches of legal issues that come before the Supreme Court.  The SCDB identifies case issue areas that will be searched and regionally mapped out.  Included in this paper are searches on: “economic activity law,” “civil rights law,” “federalism law,” “union law,” and “privacy law.”  These case issue areas were included as they were thought to be the most salient of the issue areas provided and encompass most of the cases heard by the Supreme Court each term.  These differences are then aggregated regionally, and a multilevel model will be ran to compare between-region differences in the attention to the scores. I expect interest in searches for "law" to be correlated with interest in Supreme Court cases to account for the fact that issue area specific "Supreme Court cases" Google Trends searches do not provide enough data to study systematically.

The last section of the paper is centered on sampling random cases from each issue area to pull their specific case name search scores to see if this supports the findings on regional interests in case issue areas.  Cases cannot be randomly sampled; since public knowledge on and attention to the Supreme Court is generally low, many cases do not have enough attention to pull the state-level scores for.  So, cases that have scores will be pulled to further test the previous model.  

##Results

*General Supreme Court Interest*

\begin{table}[!htbp] \centering 
  \caption{Regional Influences on Googling Supreme Court Cases} 
  \label{} 
\begin{tabular}{@{\extracolsep{5pt}}lc} 
\\[-1.8ex]\hline \\[-1.8ex] 
\\[-1.8ex] & 'Supreme Court Cases' GT Score \\ 
\hline \\[-1.8ex] 
 West & $-$18.385 \\ 
  & (11.596) \\ 
  South & $-$22.875$^{*}$ \\ 
  & (11.518) \\ 
  Midwest & $-$18.917 \\ 
  & (11.631) \\ 
  Northeast & $-$20.667$^{*}$ \\ 
  & (11.779) \\ 
  Constant & 74.000$^{***}$ \\ 
  & (11.174) \\ 
 N & 51 \\ 
R$^{2}$ & 0.092 \\ 
Adjusted R$^{2}$ & 0.013 \\ 
Residual Std. Error & 11.174 (df = 46) \\ 
F Statistic & 1.170 (df = 4; 46) \\ 
\hline \\[-1.8ex] 
\multicolumn{2}{l}{$^{*}$p $<$ .1; $^{**}$p $<$ .05; $^{***}$p $<$ .01} \\ 
\multicolumn{2}{l}{Two-tailed p values; standard errors in parantheses.} \\ 
\end{tabular} 
\end{table} 

As seen in Table 1, there is some evidence of regional differences in Googling "Supreme Court cases."  The intercept, which represents Washington D.C., is statistically significant and the highest value.  All other regions represent a decrease in the regional likelihood 


```{r}
#getting GT scores for general interest in the Supreme Court
g.hits.general <- gtrends(keyword = "supreme court cases", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

general.hits <- g.hits.general$interest_by_region
general.hits <- general.hits %>%
  spread(keyword, value = hits)

sccmodel <- lm(scc ~ as.factor(region), data=finalfinal); summary(sccmodel)

stargazer(sccmodel, dep.var.labels = "'Supreme Court Cases' GT Score", covariate.labels = c("West", "South", "Midwest", "Northeast"), style = "apsr", title = "Table 1: Regional Influences on Googling Supreme Court Cases") 
```

*Regional Attention to Specific Areas of Law*

As seen in Table 2, there are statistically significant differences across most regions in Google Trends scores for searches of case issue areas of law.  Again, Washington D.C. serves as a baseline.  All regions represent a statistically significant decline from the score of the baseline at greater than 99% confidence level in their respective searches of "economic law."  This also holds true for searches of 'civil rights law' and "privacy law."  South is the only statistically significant region at the 95% confidence level when searching "federalism law," which is consistent with existing notions of the South's concern with pro-state values that are marked by cases surrounding federalism.  "Union law" has the least consistent level of regional significance, but all regions are statistically significant predictors of a state's Google Trends scores.  Ultimately, it seems, that there is enough evidence to conclude that there are regional differences in attention to Supreme Court case issue areas. 

```{r}
#getting GT scores for case issue areas

g.hits.economic <- gtrends(keyword = "economic law", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

economic.hits <- g.hits.economic$interest_by_region
economic.hits <- economic.hits %>%
  spread(keyword, value = hits)

g.hits.cr <- gtrends(keyword = "civil rights law", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

cr.hits <- g.hits.cr$interest_by_region
cr.hits <- cr.hits %>%
  spread(keyword, value = hits)

g.hits.fed <- gtrends(keyword = "federalism law", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

fed.hits <- g.hits.fed$interest_by_region
fed.hits <- fed.hits %>%
  spread(keyword, value = hits)

g.hits.union <- gtrends(keyword = "union law", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

union.hits <- g.hits.union$interest_by_region
union.hits <- union.hits %>%
  spread(keyword, value = hits)

g.hits.priv <- gtrends(keyword = "privacy law", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

priv.hits <- g.hits.priv$interest_by_region
priv.hits <- priv.hits %>%
  spread(keyword, value = hits)

#cleaning the data

firstbind <- cbind(cr.hits, economic.hits)
secondbind <- cbind(firstbind, fed.hits)
thirdbind <- cbind(secondbind, union.hits)
fourthbind <- cbind(thirdbind, priv.hits)
final <- cbind(fourthbind, general.hits)

#adding the region to the dataset 

region <- c(2, 1, 1, 2, 1, 1, 4, 2, 0, 2, 2, 1, 1, 3, 3, 3, 3, 2, 2, 4, 2, 4, 3, 3, 2, 3, 1, 3, 1, 4, 4, 1, 4, 2, 3, 3, 2, 1, 4, 4, 2, 3, 2, 2, 1, 4, 2, 1, 2, 3, 1)

finalfinal <- cbind(final, region)

finalfinal <- finalfinal[ , !duplicated(colnames(finalfinal))]

finalfinal[9, 6] = 0

finalfinal <- rename(finalfinal, scc = 'supreme court cases')
finalfinal <- rename(finalfinal, states = location)
finalfinal <- rename(finalfinal, econ = "economic law")
finalfinal <- rename(finalfinal, civilr = "civil rights law")
finalfinal <- rename(finalfinal, union = "union law")
finalfinal <- rename(finalfinal, federalism = "federalism law")
finalfinal <- rename(finalfinal, privacy = "privacy law")

econmodel <- lm(econ ~ as.factor(region), data=finalfinal); summary(econmodel)
crmodel <- lm(civilr ~ as.factor(region), data=finalfinal); summary(crmodel)
fedmodel <- lm(federalism ~ as.factor(region), data=finalfinal); summary(fedmodel)
unionmodel <- lm(union ~ as.factor(region), data=finalfinal); summary(unionmodel)
privmodel <- lm(privacy ~ as.factor(region), data=finalfinal); summary(privmodel)

stargazer(econmodel, crmodel, fedmodel, unionmodel, privmodel, dep.var.labels = "Case Issue Area GT Scores", covariate.labels = c("West", "South", "Midwest", "Northeast"), style = "apsr", title = "Table 2: Regional Influences on Googling Supreme Court Case Issue Areas") 
```
*Case Specific Searches*

```{r}
##This loop was written to systematically pull the search scores for each case by region, but it pulled NAs only. 
data$caseName = tolower(data$caseName)

keyword <- data$caseName
results <- list()

# Function
.get_trends <- function(keyword) {
  trends <- gtrends(
    keyword = as.vector(keyword),
    geo = "US",
    low_search_volume = T,
    gprop = "web",
    time = "2010-10-01 2020-07-15"
  )
  return(trends$interest_by_region)
}

# Wrap in safely to protect against failed requests
get_trends <- possibly(.get_trends, otherwise = NA)

# Loop over the keywords and store results
for (i in 1:length(keyword)) {
    results [[i]] <- get_trends(keyword[i])
    Sys.sleep(5)
}

# Extract results dataframes from results list and filter out failed calls
results_list <- map(results, ~ .x$result)
newdata <- newdata %>% 
  mutate(df = results_list) %>% 
  as_tibble() %>% 
  filter(!is.na(df))


##so, we handcoded each case
first.ghits <- gtrends(keyword = "los angeles humphries", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

first <- first.ghits$interest_by_region
first <- first %>%
  spread(keyword, value = hits)

second.ghits <- gtrends(keyword = "costco omega", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

second <- second.ghits$interest_by_region
second <- second %>%
  spread(keyword, value = hits)

#drop
third.ghits <- gtrends(keyword = "madison county oneida nation", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web",low_search_volume = T)

third <- third.ghits$interest_by_region
third <- third %>%
  spread(keyword, value = hits)

fourth.ghits <- gtrends(keyword = "ransom fia card services", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

fourth <- fourth.ghits$interest_by_region
fourth <- fourth %>%
  spread(keyword, value = hits)

fifth.ghits <- gtrends(keyword = "premo oregon state", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

#drop
fifth <- fifth.ghits$interest_by_region
fifth <- fifth %>%
  spread(keyword, value = hits)

sixth.ghits <- gtrends(keyword = "nasa nelson", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

sixth <- sixth.ghits$interest_by_region
sixth <- sixth %>%
  spread(keyword, value = hits)

seventh.ghits <- gtrends(keyword = "chase bank mccoy", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

seventh <- seventh.ghits$interest_by_region
seventh <- seventh %>%
  spread(keyword, value = hits)

eighth.ghits <- gtrends(keyword = "ortiz jordan", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

eighth <- eighth.ghits$interest_by_region
eighth <- eighth %>%
  spread(keyword, value = hits)

nine.ghits <- gtrends(keyword = "thompson north american stainless", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

nine <- nine.ghits$interest_by_region
nine <- nine %>%
  spread(keyword, value = hits)

ten.ghits <- gtrends(keyword = "bruesewitz wyeth", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

ten <- ten.ghits$interest_by_region
ten <- ten %>%
  spread(keyword, value = hits)

#drop
eleven.ghits <- gtrends(keyword = "csx transportation alabama revenue", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

eleven <- eleven.ghits$interest_by_region
eleven <- eleven %>%
  spread(keyword, value = hits)

#drop
twelve.ghits <- gtrends(keyword = "walker warden martin", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

twelve <- twelve.ghits$interest_by_region
twelve <- twelve %>%
  spread(keyword, value = hits)

thirteen.ghits <- gtrends(keyword = "williamson mazda", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

thirteen <- thirteen.ghits$interest_by_region
thirteen <- thirteen %>%
  spread(keyword, value = hits)

fourteen.ghits <- gtrends(keyword = "fcc att", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

fourteen <- fourteen.ghits$interest_by_region
fourteen <- fourteen %>%
  spread(keyword, value = hits)

fifteen.ghits <- gtrends(keyword = "staub proctor hospital", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

fifteen <- fifteen.ghits$interest_by_region
fifteen <- fifteen %>%
  spread(keyword, value = hits)

#drop
sixteenth.ghits <- gtrends(keyword = "henderson shineski veterans affairs", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

sixteenth <- sixteenth.ghits$interest_by_region
sixteenth <- sixteenth %>%
  spread(keyword, value = hits)

seventeenth.ghits <- gtrends(keyword = "milner department of navy", geo = "US", time = "2010-10-01 2020-07-15", gprop = "web", low_search_volume = T)

seventeenth <- seventeenth.ghits$interest_by_region
seventeenth <- seventeenth %>%
  spread(keyword, value = hits)
```

